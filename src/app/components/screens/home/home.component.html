<div class="mt-4">
  <div class="container">
    <div class="row">
      <div class="col-md-3"></div>

      <!-- home display -->
      <div class="col-md-6">
        <!-- add new article -->
        <app-add-new
          *ngIf="authService.isLogIn()"
          [user]="userData"
          (isPost)="getDataGlobal($event)"
        >
        </app-add-new>

        <!-- nav feed -->
        <ul class="nav mb-3">
          <li
            class="nav-item custom-pointer"
            *ngIf="authService.isLogIn()"
            (click)="feedView()"
          >
            <a class="font-custom nav-link" [class.active]="mode === 'myfeed'"
              >Bảng Tin</a
            >
          </li>
          <li class="nav-item custom-pointer" (click)="globalView()">
            <a class="font-custom nav-link" [class.active]="mode === 'global'"
              >Cộng đồng</a
            >
          </li>
          <li class="nav-item custom-pointer" (click)="globalView()">
            <a
              class="font-custom nav-link"
              [class.active]="mode === 'tagArticle'"
              >{{ chooseTag }}</a
            >
          </li>
        </ul>
        <!-- show feed -->
        <div>
          <div *ngIf="mode === 'global'">
            <ng-container *ngFor="let article of globalArticles">
              <app-articles [article]="article"></app-articles>
            </ng-container>

            <ngb-pagination
              [collectionSize]="globaltotalItems"
              (pageChange)="onPageChange($event)"
              [(page)]="page"
              [maxSize]="limit"
              [boundaryLinks]="true"
              [rotate]="true"
              [ellipses]="false"
            >
            </ngb-pagination>
          </div>

          <div *ngIf="mode === 'myfeed'">
            <div
              *ngIf="authService.isLogIn() && feedArticles.length === 0"
              class="border-0 shadow p-3 bg-white rounded"
            >
              No articles are here... yet.
            </div>
            <ng-container *ngFor="let article of feedArticles">
              <app-articles [article]="article"></app-articles>
            </ng-container>

            <ngb-pagination
              *ngIf="feedArticles.length > 0"
              [collectionSize]="feedtotalItems"
              (pageChange)="onPageChange($event)"
              [(page)]="page"
              [maxSize]="limit"
              [boundaryLinks]="true"
              [rotate]="true"
              [ellipses]="false"
            >
            </ngb-pagination>
          </div>

          <!--  -->

          <div *ngIf="mode === 'tagArticle'">
            <ng-container *ngFor="let article of tagArticles">
              <app-articles [article]="article"></app-articles>
            </ng-container>

            <ngb-pagination
              [collectionSize]="globaltotalItems"
              (pageChange)="onPageChange($event)"
              [(page)]="page"
              [maxSize]="limit"
              [boundaryLinks]="true"
              [rotate]="true"
              [ellipses]="false"
            >
            </ngb-pagination>
          </div>
        </div>
      </div>

      <!-- show tag popular -->
      <div class="col-md-3">
        <div class="bg-light p-2">
          <p>Popular Tags</p>
          <span
            class="pointer badge badge-secondary m-1"
            *ngFor="let tag of tags"
            (click)="showArticleByTag(tag)"
            >{{ tag }}</span
          >
        </div>
      </div>
    </div>
  </div>
</div>
